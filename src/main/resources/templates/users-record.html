<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <meta charset="utf-8">
    <title>预订运营平台 - 预约记录</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" th:href="@{/static/lib/layui-v2.5.4/css/layui.css}" media="all">
    <link rel="stylesheet" th:href="@{/static/css/public.css}" media="all">
</head>
<body class="layui-dialog-body">
<table class="layui-hide" id="dataTable" lay-filter="dataTable"></table>
<input type="hidden" id="memId"/>
<script th:src="@{/static/lib/layui-v2.5.4/layui.js}" charset="utf-8"></script>
<script>
    layui.use(['form', 'table'], function () {
        var $ = layui.jquery,
            form = layui.form,
            table = layui.table;

        //数据表格
        table.render({
            elem: '#dataTable',
            url: 'manager/getSubscribeByMemId',
            even: true,
            cellMinWidth: 120,
            where: {memId : $("#memId").val()},
            cols: [
                [
                    {field: 'cardCode', title: '卡号', align: 'center'},
                    {field: 'proName', title: '商品名称', align: 'center'},
                    {field: 'arAppstate', title: '预约状态', align: 'center'},
                    {field: 'arApptime', title: '预约时间', align: 'center', width: 160, sort: true},
                    {field: 'arUsetime', title: '核销时间', align: 'center', width: 160, sort: true}
                ]
            ],
            limits: [10, 15, 20, 25, 50, 100],
            limit: 10,
            page: true
        });
    });

    //显示数据
    function renderData(data) {
        layui.use(['form'], function () {
            var $ = layui.jquery;
            $("#memId").val(data);
        });
    }
</script>
</body>
</html>